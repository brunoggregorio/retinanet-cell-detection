<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>retinanet-cell-detection: mynet_keras.models.retinanet Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">retinanet-cell-detection
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">retinanet-cell-detection: RetinaNet for cell detection.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemynet__keras.html">mynet_keras</a></li><li class="navelem"><a class="el" href="namespacemynet__keras_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html">retinanet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mynet_keras.models.retinanet Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright 2017-2018 Fizyr (<a href="https://fizyr.com">https://fizyr.com</a>)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a599045245b7a1390cb5bac1e826c4260"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a599045245b7a1390cb5bac1e826c4260">default_classification_model</a> (num_classes, num_anchors, pyramid_feature_size=256, prior_probability=0.01, classification_feature_size=256, name='classification_submodel')</td></tr>
<tr class="memdesc:a599045245b7a1390cb5bac1e826c4260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the default regression submodel.  <a href="#a599045245b7a1390cb5bac1e826c4260">More...</a><br /></td></tr>
<tr class="separator:a599045245b7a1390cb5bac1e826c4260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac885ff3980ab6f9b06103a8ecd061d4d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#ac885ff3980ab6f9b06103a8ecd061d4d">default_regression_model</a> (num_values, num_anchors, pyramid_feature_size=256, regression_feature_size=256, name='regression_submodel')</td></tr>
<tr class="memdesc:ac885ff3980ab6f9b06103a8ecd061d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the default regression submodel.  <a href="#ac885ff3980ab6f9b06103a8ecd061d4d">More...</a><br /></td></tr>
<tr class="separator:ac885ff3980ab6f9b06103a8ecd061d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6120c8620797f714d65f355dbea265a1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a6120c8620797f714d65f355dbea265a1">default_submodels</a> (num_classes, num_anchors)</td></tr>
<tr class="memdesc:a6120c8620797f714d65f355dbea265a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a list of default submodels used for object detection.  <a href="#a6120c8620797f714d65f355dbea265a1">More...</a><br /></td></tr>
<tr class="separator:a6120c8620797f714d65f355dbea265a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981dd40348890bc7a0f85b07aa32feaa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a981dd40348890bc7a0f85b07aa32feaa">retinanet</a> (inputs, backbone_layers, num_classes, num_anchors=None, create_pyramid_features=__create_pyramid_features, submodels=None, name='retinanet')</td></tr>
<tr class="memdesc:a981dd40348890bc7a0f85b07aa32feaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a RetinaNet model on top of a backbone.  <a href="#a981dd40348890bc7a0f85b07aa32feaa">More...</a><br /></td></tr>
<tr class="separator:a981dd40348890bc7a0f85b07aa32feaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4510cc8d4ab283cdba6e998e89d6b7ec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a4510cc8d4ab283cdba6e998e89d6b7ec">retinanet_bbox</a> (model=None, nms=True, class_specific_filter=True, name='<a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a981dd40348890bc7a0f85b07aa32feaa">retinanet</a>-bbox', anchor_params=None, kwargs)</td></tr>
<tr class="memdesc:a4510cc8d4ab283cdba6e998e89d6b7ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a RetinaNet model on top of a backbone and adds convenience functions to output boxes directly.  <a href="#a4510cc8d4ab283cdba6e998e89d6b7ec">More...</a><br /></td></tr>
<tr class="separator:a4510cc8d4ab283cdba6e998e89d6b7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright 2017-2018 Fizyr (<a href="https://fizyr.com">https://fizyr.com</a>) </p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p>Modifications copyright (C) 2019 Bruno Gregorio - BIPG </p><pre class="fragment">https://brunoggregorio.github.io \n
https://www.bipgroup.dc.ufscar.br</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a599045245b7a1390cb5bac1e826c4260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599045245b7a1390cb5bac1e826c4260">&#9670;&nbsp;</a></span>default_classification_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mynet_keras.models.retinanet.default_classification_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_anchors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pyramid_feature_size</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prior_probability</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>classification_feature_size</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>'classification_submodel'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the default regression submodel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_classes</td><td>: Number of classes to predict a score for at each feature level. </td></tr>
    <tr><td class="paramname">num_anchors</td><td>: Number of anchors to predict classification scores for at each feature level. </td></tr>
    <tr><td class="paramname">pyramid_feature_size</td><td>: The number of filters to expect from the feature pyramid levels. </td></tr>
    <tr><td class="paramname">classification_feature_size</td><td>: The number of filters to use in the layers in the classification submodel. </td></tr>
    <tr><td class="paramname">name</td><td>: The name of the submodel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keras.models.Model that predicts classes for each anchor. </dd></dl>

</div>
</div>
<a id="ac885ff3980ab6f9b06103a8ecd061d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac885ff3980ab6f9b06103a8ecd061d4d">&#9670;&nbsp;</a></span>default_regression_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mynet_keras.models.retinanet.default_regression_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_anchors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pyramid_feature_size</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>regression_feature_size</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>'regression_submodel'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the default regression submodel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_values</td><td>: Number of values to regress. </td></tr>
    <tr><td class="paramname">num_anchors</td><td>: Number of anchors to regress for each feature level. </td></tr>
    <tr><td class="paramname">pyramid_feature_size</td><td>: The number of filters to expect from the feature pyramid levels. </td></tr>
    <tr><td class="paramname">regression_feature_size</td><td>: The number of filters to use in the layers in the regression submodel. </td></tr>
    <tr><td class="paramname">name</td><td>: The name of the submodel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keras.models.Model that predicts regression values for each anchor. </dd></dl>

</div>
</div>
<a id="a6120c8620797f714d65f355dbea265a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6120c8620797f714d65f355dbea265a1">&#9670;&nbsp;</a></span>default_submodels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mynet_keras.models.retinanet.default_submodels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_anchors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a list of default submodels used for object detection. </p>
<p>The default submodels contains a regression submodel and a classification submodel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_classes</td><td>: Number of classes to use. </td></tr>
    <tr><td class="paramname">num_anchors</td><td>: Number of base anchors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of tuple, where the first element is the name of the submodel and the second element is the submodel itself. </dd></dl>

</div>
</div>
<a id="a981dd40348890bc7a0f85b07aa32feaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981dd40348890bc7a0f85b07aa32feaa">&#9670;&nbsp;</a></span>retinanet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mynet_keras.models.retinanet.retinanet </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backbone_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_anchors</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>create_pyramid_features</em> = <code>__create_pyramid_features</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>submodels</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>'retinanet'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a RetinaNet model on top of a backbone. </p>
<p>This model is the minimum model necessary for training (with the unfortunate exception of anchors as output).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputs</td><td>: keras.layers.Input (or list of) for the input to the model. </td></tr>
    <tr><td class="paramname">num_classes</td><td>: Number of classes to classify. </td></tr>
    <tr><td class="paramname">num_anchors</td><td>: Number of base anchors. </td></tr>
    <tr><td class="paramname">create_pyramid_features</td><td>: Functor for creating pyramid features given the features C2, C3, C4, C5 from the backbone. </td></tr>
    <tr><td class="paramname">submodels</td><td>: Submodels to run on each feature map (default is regression and classification submodels). </td></tr>
    <tr><td class="paramname">name</td><td>: Name of the model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keras.models.Model which takes an image as input and outputs generated anchors and the result from each submodel on every pyramid level.</dd></dl>
<p>The order of the outputs is as defined in submodels: ``` [ regression, classification, other[0], other[1], ... ] ``` </p>

</div>
</div>
<a id="a4510cc8d4ab283cdba6e998e89d6b7ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4510cc8d4ab283cdba6e998e89d6b7ec">&#9670;&nbsp;</a></span>retinanet_bbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mynet_keras.models.retinanet.retinanet_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nms</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>class_specific_filter</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>'<a class="el" href="namespacemynet__keras_1_1models_1_1retinanet.html#a981dd40348890bc7a0f85b07aa32feaa">retinanet</a>-bbox'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>anchor_params</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a RetinaNet model on top of a backbone and adds convenience functions to output boxes directly. </p>
<p>This model uses the minimum retinanet model and appends a few layers to compute boxes within the graph. These layers include applying the regression values to the anchors and performing NMS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>: RetinaNet model to append bbox layers to. If None, it will create a RetinaNet model using **kwargs. </td></tr>
    <tr><td class="paramname">nms</td><td>: Whether to use non-maximum suppression for the filtering step. </td></tr>
    <tr><td class="paramname">class_specific_filter</td><td>: Whether to use class specific filtering or filter for the best scoring class only. </td></tr>
    <tr><td class="paramname">name</td><td>: Name of the model. </td></tr>
    <tr><td class="paramname">anchor_params</td><td>: Struct containing anchor parameters. If None, default values are used. </td></tr>
    <tr><td class="paramname">*kwargs</td><td>: Additional kwargs to pass to the minimal retinanet model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keras.models.Model which takes an image as input and outputs the detections on the image.</dd></dl>
<p>The order is defined as follows: ``` [ boxes, scores, labels, other[0], other[1], ... ] ``` </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
